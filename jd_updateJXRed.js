const fs = require('fs')
const $ = new Env('京喜领88红包');
const notify = $.isNode() ? require('./sendNotify') : '';
//Node.js用户请在jdCookie.js处填写京东ck;
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
//IOS等用户直接用NobyDa的jd cookie
let cookiesArr = [], cookie = '', message, currentToken = {};
const BASE_URL = 'https://wq.jd.com/cubeactive/steprewardv3'
if ($.isNode()) {
  Object.keys(jdCookieNode).forEach((item) => {
    cookiesArr.push(jdCookieNode[item])
  })
  if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => {};
}
$.packetIdArr = [];



var _0xodg='jsjiami.com.v6',_0x4e47=[_0xodg,'wrp8wrg=','VcKOw5AHbA==','w7AqdXbDtA==','w4PDu8KMw7wr','w74Iw5XCkQ==','w6s3Dkw/ekPDhsOSSg==','w77DrhhUwqXCkTFFQyvDhg==','wrTDqXcM','w7k4wr1b','w4zCpC3Dr8Oz','w4DDpBxsw7l2ABc=','wrtRwphqGQ==','w69Fw6s=','OyjDs8OvWQ==','a8OLIMO9w5zCg3knI2FoGD3CgF9XRsO9M8ObLcKHMSN9WMKCwovCvzEYXg==','w7zChMOCeQo=','44K+5o6P56WU44Kq6Ky05YSY6I2f5Y+y5Lq55Lm46LSs5Y6b5Li6YXbDvVltW8O455ik5oyH5L6e55Wkw6rCk8OOHlh755qW5Liy5Lqi562e5Yqy6IyV5Y6J','w7DCpsOMw4DCgG/CvFofLSEBE3sFw57DsyAUGhB+','WcKbw48cwrU=','KMOYw6A=','w4snB8OP','woRJAsOEUcODLTQJGhw=','wqPChCzDi8KM','acKJwpJnwr4=','wqjDs2M=','wqHku4PpmpPmoqfnu6vlj5jlt6XlhKzpgZnmiLTlraTDqA==','wqrDvWkB','w77CmTLDmsOF','w7wYwrN/w7Q=','w47Dg8Kjw7EW','wrpVwoJuBV0=','wrnCtR7DkMKz','RcOvQMO+ag==','w55pw6I5woc=','w48WwpNMw4E=','QiU6wp/CocOVw5U=','PQXDvMKfOcK1w7gl','LwjDkMK9WA==','w7ANfA==','w47Cti5OwqlYFOW9qeWmh+OCm+S5iOS7m+i1t+WOnA==','w5MHw4XClXs=','RcKvwrFiwrDDuj0=','w6F0Iws=','44Kt5o6J56ez44Crw5YEw6clwrrDseW2i+WljuaXgg==','wr9ewohsCQ==','QsK1wp5mwpnDsj4n','w7rCnRLDusOnw693w4E=','HuisremFieaXoueZvOW8jOiMuOWMo8KlDMKXbcKVHEXCi8OFw7pvwpbDv2jChcK7PMOKKGYvKsOe','U0d5wqlwfA==','QsK9wpBo','w7zDvm1gA8K/5beF5aeD5pSOwqnCoGA=','5Lib5Lib6Lag5Y6r','w6gqwqxIw7sKw6Ur','w4fDrjt8w6prDw==','b8KzwpJmwr7DthkG','Y8Kww4Aawrg=','LcOBWMOTwrI=','w6FAwqp/woM=','HBHDpg==','w7XDi0XDkQ==','w5/Ct+WnpOi2ssOaOOWPoeWYmMKnw6E=','w7HCgMOLaSXCsW4=','LxTDjcKg','w7AhDEoO','B8OyQsOXwpE=','wrp7w57DoD1VZwDDnU3Dvg==','wrNIwoV6BUYOGzlk','w7k3w77CosOSw7/Dn8ORwrnDl37CrA==','w7nDvRJLwqXCoxFNZwrDjcKYFA==','w54+DcOQwqYkwqFAVBZ4','HMOkQMOtwr1HTidU','d3zDig==','J8Osw5TDgsKRHsO+','GwcAbDY=','NMOpw5nDgcKx','NC4FQQM=','w47CoB7DgsO8','woZpHMOGdw==','w6g3I2klcQ==','w6HCh8OVw6rCkg==','wod/PMOMcw==','KQvDvMK5Ag==','wrbDl3wOw4Q=','NUZ2YMOB','IzM7dDk=','wrDDslwuw4Q=','aE1awohR','w6dPJB7Dkg==','w5zCpcO9w4LCgA==','w6fCqsOPRgs=','w7vClDDDqcOE','wpBmwrhTCw==','w41GAwPDsg==','ETg2ajQ=','ZsKxw5EkwoY=','w5vCgSTDvMObw6d0w4M=','w5jCoDzDgMOj','dsO1DMOww4TCll8h','KjcAeRY=','w6XDuUxvLw==','AMOAw6LDpsK7','w71ow68ywr4Sw5IOw4Q0','w4k6Gg==','WyMbwp/ChA==','w6/DpG9kKA==','wrpfwos=','5raX5Ymq5b+05ZO95ouF5YqVUeWLieWJtemAhOittOejmOS5p8O0','QcOEZ3o=','w6vCpsOKw6XCgDDDoSUUJg==','w6IEag==','5raj5Yur5b285ZC25aW96LS677yr','w7nDiMKP','HmRTYQ==','wqLDssKYw7HCoxzmnbborpforormsIrlpbHotYod4oCq77ik4oKI77qY','TcOfcXgU','w6lRwo99GEM4KzM6HwwiU3oswohxwoXDkRExwprDr8KnJBDDo8OccMOyQF0Bw4MWGcKjdmdQ','dR/DvMKRGcKxw6Mha8KbG8OOH2ApwoXCpEU+wpNUOH5Yw6vCiRBHTMKEw7bCj8Kjw6Aww6Ao','w6PCgMOIbTrCqXYpw4E=','Nm/Cug==','wqZUw5ANSA==','wqlKPRrDlMOeDA==','w6rDkHnDoFA=','w5VQYsK7w6nCn1tqwpMIw7pL','Nm/DtMKMKsKy','wqTDghEQw6Y=','IMO1wpXDhsKQWcO5wrRS','wrZNMQ==','IAvDlMKYIQ==','ecKLw64cwr/Du8ONwo4cwqINDMKrw5FMKsKYQFzCtkLCnsKowrNlAMOZw74Dw7tew47DjMO5w4QGTsOJRmzDoBrCrMKbPsKrwqJDHcOswpJpwrbDpxkEVMOnwqrCgxsNw6HCgsKGIMKNw7LCuUrCnsOhTcO7w7l7wpUxwq3CnnbCscOC','w77DrglMwqU=','K8OQw68CVg==','w7vChsOC','5rWs5Yis5b675ZKD5ouk5YuowrblibLliqTpgJnorK3nor/kuIs1','w7xhPDvDgsKGT0XCjHU=','wppDAQ==','5rSQ5Yu+5b225ZOf5ae36LaZ776h','w79ec8Kbw4E=','LcOWZsOPwqM=','PwPDuA==','wrPCseWks+i0rkvDuuWOqOWYknzCqQ==','w7QsG1w+bQ==','w4/CosOXbTk=','wpxKwp5jBQ==','fsKNw5wVQA==','IjfDm8O9Qg==','wr3DpX0dw44/Wg0=','DB7Dl8KQaSPDsj8AwpV5','LzU+ei8=','wpTDhMKgw4fCnw==','wqLCqT7DjMKR','w5pjZcKhw7I=','SMKHw6IOwqE=','w6bCihDDm8Ot','w7wWNMOzwro=','G8Ohw4MmSA==','w7zDicKLwpkxIDDDpQ==','ZsOUAsOFw6M=','wqJDwoVkIg==','QsK3wohnwro=','LcOuw5DDnsKD','w5XCo8KiwofCgw==','w6zDuSdfw6k=','w7IDdkI=','w65OwrlZwplF','w4TDqcK9w5Ub','wqFMw5/DhA==','wqIpwqc=','6Iyr5Y605Yqy5Yq856Km5oiX5YqT77+0','w4fDvMK9w7MNIXHCj8Otw5Q=','w7s9bmfDhw==','w7PDvmU=','HuS6pOmYguagsue6oOWOjeW3reWHr+mBv+aIruWuik8=','w5HDhsKcwpQ=','w6wXaE8=','wrfDqHYxw7AXTDklw6U=','wozCky0=','6I+Y5Y2G5Yqb5Yif56OS5aSR6LSC772b','w70uf37DuRUk','6Iyr5Y605Yqy5Yq856Km5aS26LSp77+0','wqV1wp57PEY6','w7nDiMKPwrA2Ng==','w7HDvXDDs3o=','w5wdwpx9w5M=','RzkR','5rWU5Yi45byy5ZKr5aei6LSF77y9','AxjDp8KVFQ==','HxPDq8KBYg==','FhE+XDjDpw==','f8Kew7cJ','wq3DicKFSRnClOafsuiupuithuaysOWnmei3h8OB4oCP77mO4oKT77uM','eMK1w6MXdSs=','w5jCq8KZwrfCpn4cDcKe','PArCjcKvfmjDoxkD','UFt6','GArDtcOFSMKqShXDt8OifMKMw4bDi8O/wr/Cm8OGMV7DrcOEEEMUw57DocOfwobDmRLCiHTCkcOewrx2AcKaw7wTwpU/IcOgewhJwo8CwrbCuTbDoGTDscKENMO1wqtmQ8Ocw5ppNDwkwpZRw5DCv8OYw6EheTjDtMOabTfCkMO9','wovDqixsw6JpCzl0wpvDkXFWdDHDv8KMZMOYwo/DgMKywrHDtcOUJMKpw4Rxw6h3wr/CrMKOw6NIKcKlIsKvwqU=','wrtXw7bDqgk=','w7Bvw5E=','w5QGw5Y=','wpLDl8K8w5IbeTI=','wpLDuMKnw4kQIWrCu8K5','wpwaw5XClXMPLSRZw7FtworCn8OCwrzDs8KDwqzDkl8=','PUzDnkrChcOt','wq1kw5Ykdw==','OQjDr8KdGcKzw7o1PMOPecKAF1Egw5HDtwJow6ISej8Jw7jCjRgCHg==','dMO9OURZ','LcOMw7DDpsKi','V8O/NcO3w5Y=','ZMOHcH8eMWV3c8Kew4nCm28yYhpOw6p+wqrCscO3QBjDglYHw7rCmFrDh8OkdsKZSMKr','VWLDqEzCtw==','w7vDq8KGw4Us','w5IqGmsd','w4I6AMOcwrc4','BBHDksOBScO5C10=','w7XCs8OMw5PCmw==','KjQzsAjiSaIUqEuSmJMzKi.com.v6=='];(function(_0x44f4e6,_0x19771c,_0x77aae6){var _0x47d573=function(_0xd686d9,_0x187d37,_0x4c21f0,_0x370b6b,_0x200f7e){_0x187d37=_0x187d37>>0x8,_0x200f7e='po';var _0x389be7='shift',_0x3a9a8e='push';if(_0x187d37<_0xd686d9){while(--_0xd686d9){_0x370b6b=_0x44f4e6[_0x389be7]();if(_0x187d37===_0xd686d9){_0x187d37=_0x370b6b;_0x4c21f0=_0x44f4e6[_0x200f7e+'p']();}else if(_0x187d37&&_0x4c21f0['replace'](/[KQzASIUqEuSJMzK=]/g,'')===_0x187d37){_0x44f4e6[_0x3a9a8e](_0x370b6b);}}_0x44f4e6[_0x3a9a8e](_0x44f4e6[_0x389be7]());}return 0x8d8da;};return _0x47d573(++_0x19771c,_0x77aae6)>>_0x19771c^_0x77aae6;}(_0x4e47,0xe6,0xe600));var _0x142e=function(_0x5e0fcc,_0x374456){_0x5e0fcc=~~'0x'['concat'](_0x5e0fcc);var _0x7e6444=_0x4e47[_0x5e0fcc];if(_0x142e['wibbwO']===undefined){(function(){var _0xc6311=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x102b9e='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0xc6311['atob']||(_0xc6311['atob']=function(_0xde1341){var _0x19dbdf=String(_0xde1341)['replace'](/=+$/,'');for(var _0xfa5c61=0x0,_0x6dc239,_0x7a0243,_0x3ff55d=0x0,_0x56383e='';_0x7a0243=_0x19dbdf['charAt'](_0x3ff55d++);~_0x7a0243&&(_0x6dc239=_0xfa5c61%0x4?_0x6dc239*0x40+_0x7a0243:_0x7a0243,_0xfa5c61++%0x4)?_0x56383e+=String['fromCharCode'](0xff&_0x6dc239>>(-0x2*_0xfa5c61&0x6)):0x0){_0x7a0243=_0x102b9e['indexOf'](_0x7a0243);}return _0x56383e;});}());var _0x308f6b=function(_0x2aa496,_0x374456){var _0x55d539=[],_0x13b436=0x0,_0x28a45d,_0x1c0563='',_0x1c8677='';_0x2aa496=atob(_0x2aa496);for(var _0x2335d8=0x0,_0x397754=_0x2aa496['length'];_0x2335d8<_0x397754;_0x2335d8++){_0x1c8677+='%'+('00'+_0x2aa496['charCodeAt'](_0x2335d8)['toString'](0x10))['slice'](-0x2);}_0x2aa496=decodeURIComponent(_0x1c8677);for(var _0x59ec25=0x0;_0x59ec25<0x100;_0x59ec25++){_0x55d539[_0x59ec25]=_0x59ec25;}for(_0x59ec25=0x0;_0x59ec25<0x100;_0x59ec25++){_0x13b436=(_0x13b436+_0x55d539[_0x59ec25]+_0x374456['charCodeAt'](_0x59ec25%_0x374456['length']))%0x100;_0x28a45d=_0x55d539[_0x59ec25];_0x55d539[_0x59ec25]=_0x55d539[_0x13b436];_0x55d539[_0x13b436]=_0x28a45d;}_0x59ec25=0x0;_0x13b436=0x0;for(var _0x5b845d=0x0;_0x5b845d<_0x2aa496['length'];_0x5b845d++){_0x59ec25=(_0x59ec25+0x1)%0x100;_0x13b436=(_0x13b436+_0x55d539[_0x59ec25])%0x100;_0x28a45d=_0x55d539[_0x59ec25];_0x55d539[_0x59ec25]=_0x55d539[_0x13b436];_0x55d539[_0x13b436]=_0x28a45d;_0x1c0563+=String['fromCharCode'](_0x2aa496['charCodeAt'](_0x5b845d)^_0x55d539[(_0x55d539[_0x59ec25]+_0x55d539[_0x13b436])%0x100]);}return _0x1c0563;};_0x142e['ZWzEXX']=_0x308f6b;_0x142e['nvxSlF']={};_0x142e['wibbwO']=!![];}var _0x43c113=_0x142e['nvxSlF'][_0x5e0fcc];if(_0x43c113===undefined){if(_0x142e['Jalbak']===undefined){_0x142e['Jalbak']=!![];}_0x7e6444=_0x142e['ZWzEXX'](_0x7e6444,_0x374456);_0x142e['nvxSlF'][_0x5e0fcc]=_0x7e6444;}else{_0x7e6444=_0x43c113;}return _0x7e6444;};!(async()=>{var _0x4f5e80={'HdUpy':function(_0x409639,_0x3704f3){return _0x409639>_0x3704f3;},'FKInG':'GITHUB','dWlQv':function(_0x33911b,_0x41b4d0){return _0x33911b===_0x41b4d0;},'EUoji':_0x142e('0','ybdt'),'QwERl':_0x142e('1','cD(F'),'AAzEA':_0x142e('2','4(R3'),'zKlWh':function(_0x276a31,_0x2fa2f3){return _0x276a31<_0x2fa2f3;},'YITWe':function(_0x5129a2,_0x2513b7){return _0x5129a2(_0x2513b7);},'rOZvt':function(_0x36fe3b,_0x2e2e8d){return _0x36fe3b+_0x2e2e8d;},'dssxB':function(_0x27b0b5){return _0x27b0b5();},'BQjWa':function(_0x1b936e){return _0x1b936e();}};if(_0x4f5e80[_0x142e('3','JpmK')](JSON['stringify'](process[_0x142e('4','&ydW')])['indexOf'](_0x4f5e80['FKInG']),-0x1))process[_0x142e('5','cD(F')](0x0);$[_0x142e('6','b)]R')]=[];if(!cookiesArr[0x0]){if(_0x4f5e80['dWlQv'](_0x142e('7','1a*w'),_0x4f5e80[_0x142e('8','OZsS')])){console[_0x142e('9','*VTH')](_0x142e('a','ybdt'));}else{$['msg']($[_0x142e('b','*VTH')],_0x4f5e80[_0x142e('c','A)fh')],'https://bean.m.jd.com/',{'open-url':_0x4f5e80[_0x142e('d','%WGq')]});return;}}for(let _0x42a7a6=0x0;_0x4f5e80[_0x142e('e','m^zu')](_0x42a7a6,cookiesArr[_0x142e('f','SWIq')]);_0x42a7a6++){if(cookiesArr[_0x42a7a6]){cookie=cookiesArr[_0x42a7a6];$['UserName']=_0x4f5e80[_0x142e('10','1a*w')](decodeURIComponent,cookie['match'](/pt_pin=(.+?);/)&&cookie[_0x142e('11','PE3O')](/pt_pin=(.+?);/)[0x1]);$[_0x142e('12','FtX[')]=_0x4f5e80[_0x142e('13','%WGq')](_0x42a7a6,0x1);$[_0x142e('14','&PCy')]=!![];$[_0x142e('15','K4hM')]='';message='';await _0x4f5e80[_0x142e('16','#Vhd')](TotalBean);console[_0x142e('17','[%Cj')](_0x142e('18','*VTH')+$[_0x142e('19','(fNB')]+'】'+($['nickName']||$['UserName'])+'*********\x0a');if(!$[_0x142e('1a','OZsS')]){$['msg']($[_0x142e('1b','nQ7V')],_0x142e('1c','%WGq'),'京东账号'+$[_0x142e('1d','SWIq')]+'\x20'+($[_0x142e('1e','OZsS')]||$[_0x142e('1f','A)fh')])+_0x142e('20','&^Cy'),{'open-url':_0x4f5e80['AAzEA']});if($[_0x142e('21','cS&r')]()){await notify['sendNotify']($[_0x142e('22','OZsS')]+_0x142e('23','[n)l')+$['UserName'],_0x142e('24','FtX[')+$['index']+'\x20'+$[_0x142e('25','%WGq')]+'\x0a请重新登录获取cookie');}else{$[_0x142e('26',')*B7')]('',_0x142e('27','OZsS')+(_0x42a7a6?_0x4f5e80[_0x142e('28','JpmK')](_0x42a7a6,0x1):''));}continue;}await main();}}await _0x4f5e80[_0x142e('29','04^Z')](writeFile);})()[_0x142e('2a','8^C&')](_0x3a30c2=>{$[_0x142e('2b','j&f*')]('','❌\x20'+$[_0x142e('2c','jBpo')]+_0x142e('2d','gAsJ')+_0x3a30c2+'!','');})[_0x142e('2e','ybdt')](()=>{$[_0x142e('2f','#Vhd')]();});async function main(){var _0x18cae8={'hbpSB':function(_0x17b13e){return _0x17b13e();}};await _0x18cae8[_0x142e('30','$%s0')](joinActive);await _0x18cae8[_0x142e('31','04^Z')](getUserInfo);}async function writeFile(){if(!$[_0x142e('32','%RFb')])return;if(!fs[_0x142e('33','SWIq')](_0x142e('34','CwYK')))fs['mkdirSync']('./shareCodes');await fs[_0x142e('35','&8m!')]('./shareCodes/jxhb.json',JSON['stringify']($[_0x142e('36','cD(F')]));console['log']('\x0a'+JSON[_0x142e('37','04^Z')]($['packetIdArr'])+'\x0a');console[_0x142e('38','*3XP')]('文件写入成功');}function joinActive(){var _0x2505de={'yUmZa':function(_0xede964,_0x3999fe){return _0xede964<_0x3999fe;},'qSZXC':function(_0x170f07,_0x48a0f6){return _0x170f07(_0x48a0f6);},'pbgol':function(_0x1ace07,_0x5bdc4e){return _0x1ace07*_0x5bdc4e;},'zgcMu':function(_0x55e572,_0x29b6e9){return _0x55e572===_0x29b6e9;},'rKxjG':function(_0x475400,_0x216799){return _0x475400+_0x216799;},'ECHdb':_0x142e('39','snlb'),'YGkOu':'zh-cn','tnXJG':function(_0x5c395f,_0x1154ea){return _0x5c395f!==_0x1154ea;},'RymNE':'huDRz','hZjpc':_0x142e('3a','IS#w'),'wtrmJ':_0x142e('3b','snlb'),'DwErs':_0x142e('3c','IS#w'),'pCjNB':_0x142e('3d','A)fh'),'TzGam':_0x142e('3e','b)]R'),'zhNdE':function(_0x44f120){return _0x44f120();},'FVTZz':function(_0x32ef84,_0x3f0f2e){return _0x32ef84!==_0x3f0f2e;},'BSMmC':'Jespm','PCPBZ':_0x142e('3f','$%s0'),'WDYJO':function(_0x118e82,_0x3613b7,_0x9bbfc0,_0x279e52){return _0x118e82(_0x3613b7,_0x9bbfc0,_0x279e52);}};return new Promise(async _0x541899=>{var _0x31e149={'iAlGw':'abcdefghijklmnopqrstuvwxyz1234567890','kLfQx':function(_0x15fa05,_0x1a4679){return _0x2505de[_0x142e('40','4(R3')](_0x15fa05,_0x1a4679);},'wNKHJ':function(_0x3db8df,_0x5c1035){return _0x2505de[_0x142e('41','b)]R')](_0x3db8df,_0x5c1035);},'GZfQP':function(_0x163e4a,_0xea971e){return _0x2505de['pbgol'](_0x163e4a,_0xea971e);},'PrQKX':function(_0x3313e1){return _0x3313e1();},'ffycU':function(_0x3f6ab4,_0x2b459a){return _0x2505de[_0x142e('42','K4hM')](_0x3f6ab4,_0x2b459a);},'yUVCn':function(_0x19219e,_0xe285d5){return _0x2505de[_0x142e('43','*VTH')](_0x19219e,_0xe285d5);},'qzQTm':_0x2505de[_0x142e('44','h&s]')],'sgKlV':_0x2505de[_0x142e('45','IS#w')],'lyzvJ':function(_0x6d6d1,_0x1dd83a){return _0x2505de[_0x142e('46','*VTH')](_0x6d6d1,_0x1dd83a);},'pumoB':_0x2505de[_0x142e('47','cS&r')],'Hzbco':_0x2505de[_0x142e('48','nQ7V')],'LocMw':_0x2505de['wtrmJ'],'BFTKp':_0x2505de[_0x142e('49','4(R3')],'cFkJS':function(_0x5f2238,_0x496664){return _0x5f2238===_0x496664;},'xnvqg':_0x2505de[_0x142e('4a','ybdt')],'cSJrc':_0x2505de[_0x142e('4b','A)fh')],'XKrep':function(_0x412acf){return _0x2505de['zhNdE'](_0x412acf);}};if(_0x2505de[_0x142e('4c','SWIq')](_0x2505de[_0x142e('4d','nQ7V')],'Jespm')){function _0x5c33ee(_0x2d3058){let _0x24abcf=_0x31e149['iAlGw'];let _0x3c4172='';for(var _0x12ce8e=0x0;_0x31e149[_0x142e('4e','IS#w')](_0x12ce8e,_0x2d3058);_0x12ce8e++){_0x3c4172+=_0x24abcf[_0x31e149[_0x142e('4f','JpmK')](parseInt,_0x31e149['GZfQP'](Math['random'](),_0x24abcf['length']))];}return _0x3c4172;}return new Promise(_0x5ea0e2=>{let _0x41808e=_0x5c33ee(0x28);let _0x540196=(+new Date())[_0x142e('50','A)fh')]();let _0x51cd54=cookie['match'](/pt_pin=([^; ]+)(?=;?)/)[0x1];let _0x3cace6=$['md5'](''+_0x31e149[_0x142e('51','A)fh')](decodeURIComponent,_0x51cd54)+_0x540196+_0x41808e+'tPOamqCuk9NLgVPAljUyIHcPRmKlVxDy');currentToken={'timestamp':_0x540196,'phoneid':_0x41808e,'farm_jstoken':_0x3cace6};_0x31e149['PrQKX'](_0x5ea0e2);});}else{if(cookie[_0x142e('52','bQe9')](_0x2505de[_0x142e('53','IS#w')]))await _0x2505de[_0x142e('54','[n)l')](getJxToken);const _0x2b51c6='';const _0x29ea5d=_0x2505de[_0x142e('55','snlb')](taskurl,_0x142e('56','FtX['),_0x2b51c6,'activeId,channel,phoneid,publishFlag,stepreward_jstoken,timestamp');$[_0x142e('57','cD(F')](_0x29ea5d,(_0x386d0a,_0x88410f,_0x484b98)=>{try{if(_0x31e149['lyzvJ'](_0x31e149[_0x142e('58','&PCy')],_0x31e149[_0x142e('59','[n)l')])){_0x484b98=JSON['parse'](_0x484b98);if(_0x31e149['ffycU'](_0x484b98['iRet'],0x0)){console[_0x142e('5a','SWIq')](_0x142e('5b','ZRds')+_0x484b98[_0x142e('5c','6YF&')][_0x142e('5d','4(R3')]+'\x0a');}else{console[_0x142e('5e','f*pO')](_0x142e('5f','$%s0')+_0x484b98['sErrMsg']+'\x0a');}}else{if(_0x386d0a){console[_0x142e('60','IF9w')]('\x0a'+$[_0x142e('61','h&s]')]+_0x142e('62','4(R3'));$['logErr'](_0x386d0a);}else{if(_0x31e149[_0x142e('63','6YF&')]==='Kdnte'){let _0x543c84=BASE_URL+'/'+functionId+_0x142e('64','SWIq')+_0x2b51c6+_0x142e('65','K4hM')+currentToken[_0x142e('66','ybdt')]+_0x142e('67','qRf1')+_0x31e149[_0x142e('68','AE[l')](Date['now'](),0x2)+_0x142e('69','nQ7V');const _0x153e49=currentToken[_0x31e149[_0x142e('6a','jBpo')]];_0x543c84+='&phoneid='+_0x153e49;_0x543c84+='&stepreward_jstoken='+currentToken[_0x142e('6b','FkvB')];if(stk){_0x543c84+=_0x142e('6c','qRf1')+_0x31e149[_0x142e('6d','!Dv*')](encodeURIComponent,stk);}return{'url':_0x543c84,'headers':{'Host':_0x142e('6e','snlb'),'Cookie':cookie,'accept':_0x142e('6f','[%Cj'),'user-agent':'jdpingou;iPhone;4.8.2;14.5.1;'+_0x153e49+';network/wifi;model/iPhone13,4;appBuild/100546;ADID/00000000-0000-0000-0000-000000000000;supportApplePay/1;hasUPPay/0;pushNoticeIsOpen/0;hasOCPay/0;supportBestPay/0;session/318;pap/JA2019_3111789;brand/apple;supportJDSHWK/1;Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_5_1\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148','accept-language':_0x31e149[_0x142e('70','K4hM')],'referer':_0x142e('71','JpmK')}};}else{_0x484b98=JSON[_0x142e('72','&8m!')](_0x484b98);if(_0x31e149[_0x142e('73','&ydW')](_0x484b98['iRet'],0x0)){console[_0x142e('74','ybdt')](_0x142e('75','snlb')+_0x484b98['Data'][_0x142e('76','nQ7V')]+'\x0a');}else{console[_0x142e('77','b)]R')](_0x142e('78','&PCy')+_0x484b98['sErrMsg']+'\x0a');}}}}}catch(_0x393f97){if(_0x31e149['ffycU'](_0x31e149[_0x142e('79','FkvB')],_0x31e149[_0x142e('7a','04^Z')])){$[_0x142e('7b','K4hM')]('','❌\x20'+$['name']+_0x142e('7c','[n)l')+_0x393f97+'!','');}else{$['logErr'](_0x393f97,_0x88410f);}}finally{if(_0x31e149['cFkJS'](_0x31e149['xnvqg'],_0x31e149['cSJrc'])){$[_0x142e('7d','$%s0')](e,_0x88410f);}else{_0x31e149[_0x142e('7e','ybdt')](_0x541899);}}});}});}function getUserInfo(){var _0x4519f6={'Zbudo':function(_0x3c8cda,_0x5e9169){return _0x3c8cda*_0x5e9169;},'UAnAc':function(_0x285ed6,_0x5a2ba9){return _0x285ed6!==_0x5a2ba9;},'DlqUA':_0x142e('7f','SWIq'),'iRuwD':'dwCurrentGrade','Yxxbm':_0x142e('80','&^Cy'),'IdgSD':function(_0x5789f8,_0x536c96){return _0x5789f8(_0x536c96);},'VWUGK':_0x142e('81','j&f*'),'yOmYR':'pt_pin','tsimS':_0x142e('82','*VTH'),'eREsg':_0x142e('83','#Vhd'),'nkujm':'activeId,channel,joinDate,phoneid,publishFlag,timestamp'};return new Promise(async _0x3f5aaf=>{var _0x2c6aa6={'ThHDx':function(_0x1a0922,_0x45ba9b){return _0x4519f6['Zbudo'](_0x1a0922,_0x45ba9b);},'zjkrw':function(_0x11156c,_0x377c5e){return _0x4519f6[_0x142e('84','IS#w')](_0x11156c,_0x377c5e);},'yaVUV':_0x4519f6['DlqUA'],'nLliU':_0x142e('85','gAsJ'),'XrhGb':_0x142e('86','1a*w'),'uVcks':_0x4519f6[_0x142e('87','FkvB')],'aDUGf':_0x4519f6[_0x142e('88','JpmK')],'Ptxab':function(_0x5d77ff,_0x15e793){return _0x4519f6[_0x142e('89','A)fh')](_0x5d77ff,_0x15e793);}};if(_0x142e('8a','cD(F')===_0x4519f6[_0x142e('8b','&ydW')]){if(cookie[_0x142e('8c','IF9w')](_0x4519f6[_0x142e('8d','bQe9')]))await getJxToken();const _0x5eceb5='joinDate='+$['time'](_0x4519f6[_0x142e('8e','SWIq')]);const _0x10b018=taskurl(_0x4519f6['eREsg'],_0x5eceb5,_0x4519f6[_0x142e('8f','OZsS')]);$['get'](_0x10b018,(_0x337e3f,_0x3bee10,_0x3c1e5d)=>{if(_0x2c6aa6[_0x142e('90','snlb')](_0x2c6aa6[_0x142e('91','ZRds')],_0x2c6aa6['nLliU'])){try{if(_0x2c6aa6['XrhGb']===_0x2c6aa6[_0x142e('92',')*B7')]){if(_0x337e3f){console['log']('\x0a'+$[_0x142e('93','[%Cj')]+':\x20\x20API查询请求失败\x20‼️‼️');$[_0x142e('94','8^C&')](_0x337e3f);}else{_0x3c1e5d=JSON[_0x142e('95','m^zu')](_0x3c1e5d);if(_0x3c1e5d[_0x142e('96','%RFb')]===0x0){console[_0x142e('97','!)9w')](_0x142e('98','[%Cj')+_0x3c1e5d['Data'][_0x142e('99','m^zu')]+'\x0a');if(_0x3c1e5d['Data'][_0x2c6aa6[_0x142e('9a','f*pO')]]>=0x6){console[_0x142e('9b','[n)l')](_0x142e('9c','PE3O'));}else{if(_0x3c1e5d[_0x142e('9d','IF9w')]['strUserPin'])$['packetIdArr'][_0x142e('9e','[%Cj')](_0x3c1e5d['Data'][_0x142e('9f','*VTH')]);}}else{console[_0x142e('a0','1a*w')](_0x142e('a1','04^Z')+_0x3c1e5d[_0x142e('a2','f*pO')]+'\x0a');}}}else{console['log'](_0x142e('a3','[%Cj')+_0x3c1e5d[_0x142e('a4','SWIq')]+'\x0a');}}catch(_0xdaf325){$[_0x142e('a5','IF9w')](_0xdaf325,_0x3bee10);}finally{if(_0x142e('a6','jBpo')!==_0x2c6aa6[_0x142e('a7','%WGq')]){console[_0x142e('a8','&PCy')](_0x142e('a9','04^Z')+_0x3c1e5d['sErrMsg']+'\x0a');}else{_0x2c6aa6[_0x142e('aa','K4hM')](_0x3f5aaf,_0x3c1e5d);}}}else{str+=_sym[parseInt(_0x2c6aa6[_0x142e('ab','#Vhd')](Math['random'](),_sym[_0x142e('ac','IS#w')]))];}});}else{console['log']('\x0a'+$[_0x142e('ad','JpmK')]+_0x142e('ae','ybdt'));$[_0x142e('af','&^Cy')](err);}});}function taskurl(_0x325d44,_0x454c85='',_0xcf79a3){var _0x4a74bf={'sILZU':_0x142e('b0','ZRds'),'OtbsX':'farm_jstoken','kEdCJ':function(_0x3a3dba,_0x2497ac){return _0x3a3dba(_0x2497ac);},'rePjQ':_0x142e('b1','#Vhd'),'SXQOc':_0x142e('b2','IS#w'),'ECloN':'zh-cn','zHKJV':_0x142e('b3','j&f*')};let _0x1cc3df=BASE_URL+'/'+_0x325d44+_0x142e('b4',')*B7')+_0x454c85+_0x142e('65','K4hM')+currentToken[_0x4a74bf[_0x142e('b5','%RFb')]]+_0x142e('b6','SWIq')+(Date[_0x142e('b7','(fNB')]()+0x2)+_0x142e('b8','m^zu');const _0x387681=currentToken['phoneid'];_0x1cc3df+=_0x142e('b9','m^zu')+_0x387681;_0x1cc3df+=_0x142e('ba','(fNB')+currentToken[_0x4a74bf['OtbsX']];if(_0xcf79a3){_0x1cc3df+=_0x142e('bb','*3XP')+_0x4a74bf['kEdCJ'](encodeURIComponent,_0xcf79a3);}return{'url':_0x1cc3df,'headers':{'Host':_0x4a74bf[_0x142e('bc','AE[l')],'Cookie':cookie,'accept':_0x4a74bf['SXQOc'],'user-agent':_0x142e('bd','K4hM')+_0x387681+';network/wifi;model/iPhone13,4;appBuild/100546;ADID/00000000-0000-0000-0000-000000000000;supportApplePay/1;hasUPPay/0;pushNoticeIsOpen/0;hasOCPay/0;supportBestPay/0;session/318;pap/JA2019_3111789;brand/apple;supportJDSHWK/1;Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_5_1\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148','accept-language':_0x4a74bf[_0x142e('be','5Q%G')],'referer':_0x4a74bf[_0x142e('bf','snlb')]}};}function getJxToken(){var _0x682499={'NqErY':function(_0x28322d,_0x4f9d70){return _0x28322d(_0x4f9d70);},'OcIcR':function(_0x4e1be3,_0x3e29b4){return _0x4e1be3===_0x3e29b4;},'JifrQ':_0x142e('c0','bQe9'),'yzUQy':_0x142e('c1','6YF&'),'gQMre':function(_0x1d02cd,_0xb6176a){return _0x1d02cd*_0xb6176a;},'lHnQS':'wsCZU','cJZgZ':function(_0x516a64,_0x2297c3){return _0x516a64(_0x2297c3);},'KVrZb':function(_0x8d443c,_0x425ae3){return _0x8d443c(_0x425ae3);},'NSxwq':function(_0x4c3b39){return _0x4c3b39();}};function _0x1a591a(_0x5baa07){var _0x139076={'ATTUk':function(_0x18c658,_0x402de9){return _0x682499[_0x142e('c2','*3XP')](_0x18c658,_0x402de9);},'fOuWK':function(_0x1e61ef){return _0x1e61ef();}};if(_0x682499[_0x142e('c3','m^zu')](_0x682499['JifrQ'],_0x682499[_0x142e('c4','$%s0')])){let _0x403539=_0x682499['yzUQy'];let _0xa935ad='';for(var _0x58de06=0x0;_0x58de06<_0x5baa07;_0x58de06++){_0xa935ad+=_0x403539[parseInt(_0x682499['gQMre'](Math['random'](),_0x403539[_0x142e('c5','cD(F')]))];}return _0xa935ad;}else{let _0x34ffb3=_0x1a591a(0x28);let _0x5dad0a=(+new Date())[_0x142e('c6','j&f*')]();let _0x182d7d=cookie[_0x142e('c7','4(R3')](/pt_pin=([^; ]+)(?=;?)/)[0x1];let _0xd81e2d=$[_0x142e('c8','CwYK')](''+_0x139076[_0x142e('c9','&^Cy')](decodeURIComponent,_0x182d7d)+_0x5dad0a+_0x34ffb3+'tPOamqCuk9NLgVPAljUyIHcPRmKlVxDy');currentToken={'timestamp':_0x5dad0a,'phoneid':_0x34ffb3,'farm_jstoken':_0xd81e2d};_0x139076['fOuWK'](resolve);}}return new Promise(_0x3547eb=>{if(_0x682499[_0x142e('ca','[%Cj')]!==_0x142e('cb','m^zu')){if(data[_0x142e('cc','(fNB')][_0x142e('cd','$%s0')])$[_0x142e('ce','&8m!')][_0x142e('cf','*VTH')](data[_0x142e('d0','%WGq')][_0x142e('99','m^zu')]);}else{let _0x25f1d5=_0x682499[_0x142e('d1','A)fh')](_0x1a591a,0x28);let _0x265435=(+new Date())[_0x142e('d2',')*B7')]();let _0x3c819b=cookie[_0x142e('d3','SWIq')](/pt_pin=([^; ]+)(?=;?)/)[0x1];let _0x33fbd3=$[_0x142e('d4','8^C&')](''+_0x682499[_0x142e('d5','j&f*')](decodeURIComponent,_0x3c819b)+_0x265435+_0x25f1d5+_0x142e('d6','bQe9'));currentToken={'timestamp':_0x265435,'phoneid':_0x25f1d5,'farm_jstoken':_0x33fbd3};_0x682499['NSxwq'](_0x3547eb);}});};_0xodg='jsjiami.com.v6';



function TotalBean() {
  return new Promise(async resolve => {
    const options = {
      url: "https://me-api.jd.com/user_new/info/GetJDUserInfoUnion",
      headers: {
        Host: "me-api.jd.com",
        Accept: "*/*",
        Connection: "keep-alive",
        Cookie: cookie,
        "User-Agent":  "jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0 (iPhone; CPU iPhone OS 14_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148;supportJDSHWK/1",
        "Accept-Language": "zh-cn",
        "Referer": "https://home.m.jd.com/myJd/newhome.action?sceneval=2&ufc=&",
        "Accept-Encoding": "gzip, deflate, br"
      }
    }
    $.get(options, (err, resp, data) => {
      try {
        if (err) {
          $.logErr(err)
        } else {
          if (data) {
            data = JSON.parse(data);
            if (data['retcode'] === "1001") {
              $.isLogin = false; //cookie过期
              return;
            }
            if (data['retcode'] === "0" && data.data && data.data.hasOwnProperty("userInfo")) {
              $.nickName = data.data.userInfo.baseInfo.nickname;
            }
          } else {
            $.log('京东服务器返回空数据');
          }
        }
      } catch (e) {
        $.logErr(e)
      } finally {
        resolve();
      }
    })
  })
}

// prettier-ignore
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`\ud83d\udd14${this.name}, \u5f00\u59cb!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),a={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(a,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t){let e={"M+":(new Date).getMonth()+1,"d+":(new Date).getDate(),"H+":(new Date).getHours(),"m+":(new Date).getMinutes(),"s+":(new Date).getSeconds(),"q+":Math.floor(((new Date).getMonth()+3)/3),S:(new Date).getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,((new Date).getFullYear()+"").substr(4-RegExp.$1.length)));for(let s in e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r)));let h=["","==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="];h.push(e),s&&h.push(s),i&&h.push(i),console.log(h.join("\n")),this.logs=this.logs.concat(h)}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t.stack):this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}