const fs = require('fs')
const $ = new Env('京喜领88红包');
const notify = $.isNode() ? require('./sendNotify') : '';
//Node.js用户请在jdCookie.js处填写京东ck;
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
//IOS等用户直接用NobyDa的jd cookie
let cookiesArr = [], cookie = '', message;
const BASE_URL = 'https://wq.jd.com/cubeactive/steprewardv3'
if ($.isNode()) {
  Object.keys(jdCookieNode).forEach((item) => {
    cookiesArr.push(jdCookieNode[item])
  })
  if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => {};
}
$.packetIdArr = [];



var _0xod7='jsjiami.com.v6',_0x5e94=[_0xod7,'w4s5LcK9w5LDvwAUwpvDtcOpwq4EBcKXwp08w4rCnMOfDsKTwrDDvsOhXHXChBh4w7XDv1PCssKCF8KmYh9Rw7smWALDk2jClDbDunLDk3jClMOEw44Zw7FSLT4nKknDtDVvKCsYwrghMsOywq9gw6VswphrXMO9w6dtAUfDuRHDmsK9wpR7w5vCu8KRwoEpwqLCiSAJw6TDq8OicMOFw4vDrD5EwovDknjDtHjCp2IZHsOFecOswpl9wrbCk8Kiw5odw57CmcOnWxTDkcKSwpRfw6h4WU/CqMO5wqbDllxvLxFfwpI2wrnDmT3CjDHDtMKNw53CuwJCM2fDqXXDosKjL8OJwoZ2wq/Cm1J9wqQzQcKnw6F1w7EOCsKJecKRw6ADwrV2R8KbAsOEwoDDucK0BsK3w49FI8OAwqVLBMK5IcKxXsOwemkEw6lzPMK2OcKJw6kswoBXwp57JDRfacOJwobCi8KuOiLCv23DvGxXw5XDqcOrUsOTwogcA8KUw791V1jDgUPCsSUyCcOVw6low7TCncKfwrbCgcKhw4zCmSjDiMO/WnXDvndMTsOCw43DsSfDrMKaIDYsEcO4wqXDmyEdQ8KxS0DCoSvChFzCkUg7UQI5MHhUEMKIw6xrw6XDrSoTNEBLwp3CryA7N2tzw77CsQ==','w49vw5/DnMK8','ClHCvcKrwp8=','wrXChyHChg==','GcOJAcO+w64zVcOMw5w=','w54cTMKoajTDhcOPQE5hWSXDscKTw7DDhlA7w6/Cr8KjChbDgVNMw55Rw7lmV1DDhMOsRj/CtcOYd3wNwop0wqjChlPDiXkaw6DDhhR7DD/DpMKhAArDrCfDucKuTiRZa3rCosKzFmRLZjZ5w5rCv0TCocK2QQ==','ER7Di0YTw57DuwxXwpjDvmQrwrJyKzPDswNFR8OEMEgjWxLDksOACWfDpMKtEcKWH0s=','w5gHTw==','NsK5w7M=','w7/CgsOmw6IE','w57CthQtXw==','w6ZcVcONYw==','UsOmWzjDuEg=','w7Z+wp/CpcKOVw==','QmbCncKmwqbDlw==','EsOewpQWIH0=','w4h5N8K7Yw==','HcOURsO3w68=','FnfCm8KtwqfDn8OLWj4=','wqvCkMKaw6TCnw3DkhQ=','wooxHMKkaQ==','JVDDtCfCm308wqk=','QDrCp8OGDA==','QTfCoMOBBsKl','AGdKwotWw4XCpg8=','woM7IcKqw4A=','BsOYRijDvBg=','JVJDwqxq','Q8KHwqnDqyY=','c1/Ckw==','BMOcX8O9w6R6WcOWwooBWBdCfgvCgTxVw4nDtF5cTgvDnMO7wpVow5U=','Dj9gw6/DgXPDrSLCucKxRMOcc8OZw7/CpgNRwpUdw6tLw7siw6rDoy7CoGZPwpVVwoBowo5uKWrCl8KgQsKOw7AIVVXDocOocwljOxltamggfSFtZMOTwqRZw73Cs8KnccKhw5Qkw5o0LMOdwrIzwoY0KQnCm8KAbCNlQko6wrLCtirCoVFNw6gEIzPCgzDDtMO2wp8ow7Nww5UJO8O1wrXCtsOewrfChjUGwqZ0wpodwoXDpSTCqGrDvHh8ZsKvSys2wp0QHcK/XzPDr0tSVlsKwrLDnMKjw6psGsOSRDTDnMKqw7/CuGLDkmXDtMKuwq/CgsOUw6TCg8OqfCbCiF4XwoPDh8Ohwp9WwpByfMKCw5w8e8KjTyTCk8OvSwQXeHVNw7dFwr3DjMKsbcKBw4Vywq4OYkt4wrIIZ0pUKMOBOMOzA8OFEV7DggM9wofDl8KNw4fDhMKXw4JCNjZIwpgYw6M/wpcQwq01CMOdwq3CqsOXSRZPwr/Dqhk1ZsKWwqfCrB3Cp8KfdW3DtcKiwp9eMCPDvRlMcBljDH/DqCPDhcOfTMOQw77DinvCuQvCtcOJOMOGwoXCpsKgwr3Coi7CpMOOL8KbKsO2wqjDm8Ogwr4tw4MoaMO8MUZlQcKIYijDhcKdag0pw5TDs8OoXQ==','w4jDiMKtRHo=','w7xIw7PDusKFwoo=','44OW5o2456aY44Om6K+y5YaK6I615Y205Lmm5Lmy6LSH5YyK5LqKwqXClsOTwq1RDUjnmYfmjr7kvq3nl6HDpsKwwo8PEcOO55qO5Lqu5LmD56+H5YmZ6Iyo5YyY','VTXDglAw','wrvCksKTw5/Cng==','w4UcSsKxd2nCg8KGTg==','EWZv','w6xCfMOOTzPDkA==','RsKjwrM3YQ==','w7TCmCc2','XTfCo8OA','VMK3wpLCkE0=','G8KBDTjChQ==','HHxtwo9XwpbDp0fDvSXCrTY/w4hSJcOsZcOYw4wUNQ==','wqrDrMObwr1c','WsK9worCtGM=','w4sBcsOHw7w=','w6fDoMK9V10=','w4JTw4sKw4k=','XcObw5doMMK7wos=','I8OJf8OOw5I=','PVDDgA==','wqjCucKIOcKYwoJp5b2A5aW844KI5Lq15LiM6LeV5Y6T','ek1Cb1g=','E8KzSsKdOsOFYAU=','wpPDm8OHwoVLwqNvw4c=','HUfCgglXwpHCp0cRwq8=','LAfDi8KZQw==','wqVXXw==','44GV5o+F56e144OiwrQsSBkrw5Pltq7lpYHml5M=','CMKbMQrCkg==','wr/CgSzCiMOeYmLDsg==','YcObw751GcKzwogU','w6LDtcK9REbCoHA+HcKIw7ZEwqtPw6JDw7LCtj3CnXHCrw==','wrjCmwHCjMO0Zg==','wqvCrALCtMOZ','wpdowpNIwoo=','w4dSw4gqw4PDtw==','U8OiWzjDmUrDsTnDvMOP','w7/CgSMn','wrzCkMKmw7vChAHltY7lpYLmlKLDiwrDlQ==','Yh7DjVEzw5rDoAg=','5Lu25LiC6LaQ5Y+t','w7caw57Dh8Ox','wqLDmcOjw43CssK0Aho=','wrtBTMOHNcO8UA==','wrPCkMKuw5XCnxY=','A8Oewo4RJw==','w5duw4A=','w6p+wpzCpA==','wrJU5aaL6LaHwqjDrOWOj+WYlcOXSA==','wpY+JsKow4nDvAs=','wo9pb8KkNnROSFA=','w7NtwpjCtcKEfHo+HcOpw6TDnjg=','GsKHw6hvNsKgwoAywoV4Q8O/UX7DkMO3w7RQV8OXQsKL','w64jw77DjsKSHUfCs8Oo','w602w6/DjMKZDmfCscOQMMKz','w6NJMSTDv8OkNsO5w4ZI','wrBbw4nDisOowr51wrbCggzDkcOv','PFTDgzrCm0crwqDDgw==','wqTCrsK6XFTDqDpSEMKJw7JZ','T0wBMWkLWWR3w6vCqw==','fMKLwqEtYA==','JcOuwoM/BQ==','woLDpMO1w67Cvg==','wobCi8KAw7XCqQ==','dcKPwoDDlR4=','EktPwoxW','wrnCvMKfw6PCnw==','fMKJwqk=','WzBow74=','BQ1CG1w25p+16K+i6K+B5rOb5aeo6LaAwpPigLfvuLrig4rvuok=','HsOZXcOnw68=','w558EMKSRw==','w4Jvw4ob','XGjClA==','wpLCvAMe','RBnDmnYOw57Dvz1Sw4s=','RsOrIA==','5rSE5YqF5b2i5ZG15aS96LWa77yK','wpXDu8OmwrtP','QcK8wrI+Ug==','ZcKKwq0KScKOwoQ=','w6UPacOPw70Cw6pd','w6N4DsK1Yw==','wrrCshA6GMK3','ccKrwr3DqxY=','w7QNUcOpw7E=','D1fClcKXwqU=','w6pePw==','wpc8GMKi','FMKnMjbCvQ==','dMKIwoDDuiY=','wpDCrj0QKQ==','w4IXRcORw6YVw4V3wrESMT0Xw4k=','woU4PcKow78=','w5R6wpzCj8KA','UTHCm8O9JQ==','w4EZFsKyfSDCicKPWg==','IxjClMKxXg==','wrfCi8K9w6DCnl7Ck1wdwppGwpZHQAfDusO4woQxw64lX244wphlOH8gacO0wrPDrsODwpnCj0M4YkjDhMKsfGrChVrCuMKcTX3DmMOVW8OVKcOzDsOsUcObw7jDu8KXw6pkJ8KrwpbDuW7CgMOzw4Iuw40AMVJ/DifDuUc=','eD3CucO2Iw==','w43DpMK9YUbDvy1YEcKLw7g=','w5IEQsK3Uw==','BMOTwoAdBQ==','wp7DksOBwpZj','YCLCrMO9JQ==','M2TDhU9I','QAvDi3E1','w75Lw7oEw7M=','wrHDgsO1wpBo','woN+wr0=','B3oUw43DiA==','eVXCsMKwwqM=','ecO0bDRV','5ram5Yu/5b6M5ZKI5ous5YulAuWJvOWIiumDguistuehjeS4mcOK','KsOZW8O1','UsOIF17DoA==','wpUyEg==','wrHCnsKkw7U=','wrwReBbDm8Oe5p6A6K2i6K2f5rGp5aet6Le2C+KDuu+5lOKBmu+6oQ==','bMODYglUw7E=','WMOHw7w=','XznCqcOgG8K6','cF8PK0o=','MsKoRMKHMg==','woA2OsK6w4A=','w65FwobCtMK3','woh0wq4=','6I2x5Y2+5YiL5Yms56CE5ouS5Yqd7764','c8OYdxlVw6bDmMKDw6DCuQ==','DEPChMKAwrI=','cTBxw7o=','G8OyasORw44=','w69JdsOiZQ==','JFDDkjLCsw==','JuS7jOmbuOagsOe7veWNt+W3keWGpOmAouaIgeWvtsOD','5ret5Ym15b235ZGQ5om65YmawpPliK/lioPpg57orbDnoL/kuKzDuQ==','Q3PCgcKXwrrDn8OQbmrCrw==','w69cw5sO','w4UcSsKNamvCmMKwXlE=','IV7DhDjCjGAbwqrDoT7Dvw==','OcK7XcKX','w60hTsO+w40=','UVfCgcKAwoA=','w7Ibw50=','6I6k5Y+15YqP5YqR56Ch5aez6LS17769','w60xw4jDkMOEwr93','wpA3S8KscjM=','w4c4w5/Dt8KL','6I+t5Y+I5Yif5YqB56GX5ois5YmM77y4','woTDnsO0w6rCj8KwHS/Cr8Kt','JMOewo4T','w49Kw6waw4PDtwfClhJYecODwrg9','AsOXSA==','S+S7sOmYn+ahmee7luWOoeW3v+WEiOmCguaKpuWvhsOu','R8Ocw6lSJMK3wpchwoNy','UMOmVjfDslHDjDTDm8OESA==','YMKTwr3Dtw==','cMOJw69m','HlQRw63DrcOBBjrCo2Q=','wp8KP8Kpbw==','T8OibSjDuQ==','w7nCjMKqw7XCgwHDihIGw5YVw5NUdh3DsMKxwoc7wp8ySXNyw4YhfG5mYsOjwq/DtMOWw5vCnh0=','fUxR','wrsIwrE=','wqN8wrFmwpM=','D8KaIg==','wqBuKyPDrsKqVA==','f8Ojw5FVDg==','w41IwpzCjsKr','wr7DksOhwr5A','wpfCisOOwrx3wo4=','ZMKJwp3Dqy0bTcKr','R8OEw7JkMg==','wq3CnsKnw7TCggk=','woQ4G8K9w5fDuRwY','w5hRw4YMw5Q=','KxHDl8K2X0Q=','w49uw7TDhsKiwqHDt8OL','w6LCjCchfg==','dMODVjhUw6rDhMK0','w496DcKsdGETUw==','w5HDv8OLcMOX','MMKfwrEBRsKfwozDgMKK','wpHCqMO2w64jDsKUw6rCmVQIwoDDrTBswobChMKSwpEj','wpcuH8K/Rw==','I17DiTfChnk=','RznCncORG8KhO2I=','HMOZQcOww6Vw','TEELOWk=','wrtIUcOAMQ==','bQLDu3MK','BsO8w7M=','VljhsUxZjiCMamyi.QDcom.hvx6DnZ=='];(function(_0x26ccc5,_0x462543,_0x47131f){var _0x2e7195=function(_0x5f5260,_0x47a4e1,_0x2c3f51,_0x20e42e,_0x42f788){_0x47a4e1=_0x47a4e1>>0x8,_0x42f788='po';var _0x4d5b29='shift',_0xe272ed='push';if(_0x47a4e1<_0x5f5260){while(--_0x5f5260){_0x20e42e=_0x26ccc5[_0x4d5b29]();if(_0x47a4e1===_0x5f5260){_0x47a4e1=_0x20e42e;_0x2c3f51=_0x26ccc5[_0x42f788+'p']();}else if(_0x47a4e1&&_0x2c3f51['replace'](/[VlhUxZCMyQDhxDnZ=]/g,'')===_0x47a4e1){_0x26ccc5[_0xe272ed](_0x20e42e);}}_0x26ccc5[_0xe272ed](_0x26ccc5[_0x4d5b29]());}return 0x8d8ac;};return _0x2e7195(++_0x462543,_0x47131f)>>_0x462543^_0x47131f;}(_0x5e94,0x103,0x10300));var _0x3150=function(_0x5d9fcc,_0x3bdca0){_0x5d9fcc=~~'0x'['concat'](_0x5d9fcc);var _0x2fd6f6=_0x5e94[_0x5d9fcc];if(_0x3150['qzzknQ']===undefined){(function(){var _0x5c0349=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x3149e8='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x5c0349['atob']||(_0x5c0349['atob']=function(_0x53dc7c){var _0x191166=String(_0x53dc7c)['replace'](/=+$/,'');for(var _0x43adf9=0x0,_0x37a303,_0x219d23,_0x31b77a=0x0,_0x537242='';_0x219d23=_0x191166['charAt'](_0x31b77a++);~_0x219d23&&(_0x37a303=_0x43adf9%0x4?_0x37a303*0x40+_0x219d23:_0x219d23,_0x43adf9++%0x4)?_0x537242+=String['fromCharCode'](0xff&_0x37a303>>(-0x2*_0x43adf9&0x6)):0x0){_0x219d23=_0x3149e8['indexOf'](_0x219d23);}return _0x537242;});}());var _0x3d57b8=function(_0xf0ce34,_0x3bdca0){var _0x1caf8c=[],_0x38cf45=0x0,_0xea88b2,_0x555620='',_0x277920='';_0xf0ce34=atob(_0xf0ce34);for(var _0xce0364=0x0,_0x4cffa5=_0xf0ce34['length'];_0xce0364<_0x4cffa5;_0xce0364++){_0x277920+='%'+('00'+_0xf0ce34['charCodeAt'](_0xce0364)['toString'](0x10))['slice'](-0x2);}_0xf0ce34=decodeURIComponent(_0x277920);for(var _0xcd565f=0x0;_0xcd565f<0x100;_0xcd565f++){_0x1caf8c[_0xcd565f]=_0xcd565f;}for(_0xcd565f=0x0;_0xcd565f<0x100;_0xcd565f++){_0x38cf45=(_0x38cf45+_0x1caf8c[_0xcd565f]+_0x3bdca0['charCodeAt'](_0xcd565f%_0x3bdca0['length']))%0x100;_0xea88b2=_0x1caf8c[_0xcd565f];_0x1caf8c[_0xcd565f]=_0x1caf8c[_0x38cf45];_0x1caf8c[_0x38cf45]=_0xea88b2;}_0xcd565f=0x0;_0x38cf45=0x0;for(var _0x4abd8e=0x0;_0x4abd8e<_0xf0ce34['length'];_0x4abd8e++){_0xcd565f=(_0xcd565f+0x1)%0x100;_0x38cf45=(_0x38cf45+_0x1caf8c[_0xcd565f])%0x100;_0xea88b2=_0x1caf8c[_0xcd565f];_0x1caf8c[_0xcd565f]=_0x1caf8c[_0x38cf45];_0x1caf8c[_0x38cf45]=_0xea88b2;_0x555620+=String['fromCharCode'](_0xf0ce34['charCodeAt'](_0x4abd8e)^_0x1caf8c[(_0x1caf8c[_0xcd565f]+_0x1caf8c[_0x38cf45])%0x100]);}return _0x555620;};_0x3150['YHpGKT']=_0x3d57b8;_0x3150['cKnEyy']={};_0x3150['qzzknQ']=!![];}var _0x444a7d=_0x3150['cKnEyy'][_0x5d9fcc];if(_0x444a7d===undefined){if(_0x3150['zUUBnx']===undefined){_0x3150['zUUBnx']=!![];}_0x2fd6f6=_0x3150['YHpGKT'](_0x2fd6f6,_0x3bdca0);_0x3150['cKnEyy'][_0x5d9fcc]=_0x2fd6f6;}else{_0x2fd6f6=_0x444a7d;}return _0x2fd6f6;};!(async()=>{var _0x5bca0f={'dmZOs':function(_0x59af2f,_0x41577b){return _0x59af2f>_0x41577b;},'PLjYI':_0x3150('0','YwdC'),'xdKTy':_0x3150('1','eG4%'),'ztXWo':'https://bean.m.jd.com/','lDyJY':function(_0x3e87cf,_0x1cee2f){return _0x3e87cf<_0x1cee2f;},'vnSpW':function(_0x2e6b8c,_0x17492e){return _0x2e6b8c(_0x17492e);},'MqPZX':function(_0x4bf34d){return _0x4bf34d();},'uwrKs':function(_0x11a0dc,_0x169fbc){return _0x11a0dc===_0x169fbc;},'bIhHa':_0x3150('2','zi$d'),'zDMWI':'ssZGo'};if(_0x5bca0f[_0x3150('3','fKq]')](JSON[_0x3150('4','6Clb')](process[_0x3150('5','B[3&')])[_0x3150('6','[FM0')](_0x5bca0f[_0x3150('7','uyp%')]),-0x1))process[_0x3150('8','qsR^')](0x0);$['redPacketId']=[];if(!cookiesArr[0x0]){$['msg']($[_0x3150('9',']A%&')],_0x5bca0f[_0x3150('a','yU#&')],_0x5bca0f[_0x3150('b','he6G')],{'open-url':_0x3150('c','B[3&')});return;}for(let _0x1bb921=0x0;_0x5bca0f[_0x3150('d','eG4%')](_0x1bb921,cookiesArr['length']);_0x1bb921++){if(cookiesArr[_0x1bb921]){cookie=cookiesArr[_0x1bb921];$['UserName']=_0x5bca0f[_0x3150('e','yU#&')](decodeURIComponent,cookie[_0x3150('f','VQmx')](/pt_pin=(.+?);/)&&cookie[_0x3150('10','6dIC')](/pt_pin=(.+?);/)[0x1]);$[_0x3150('11','rx0T')]=_0x1bb921+0x1;$[_0x3150('12','y#5$')]=!![];$['nickName']='';message='';await _0x5bca0f[_0x3150('13','&Gqk')](TotalBean);console[_0x3150('14','QG^X')](_0x3150('15','33#v')+$[_0x3150('16','fIJg')]+'】'+($[_0x3150('17','6B@x')]||$[_0x3150('18','eG4%')])+_0x3150('19','zi$d'));if(!$['isLogin']){if(_0x5bca0f[_0x3150('1a',']#DW')]('bXjsM',_0x5bca0f['bIhHa'])){$[_0x3150('1b','sbS&')]($['name'],_0x3150('1c','fVkb'),'京东账号'+$[_0x3150('1d','he6G')]+'\x20'+($[_0x3150('1e','D*lR')]||$[_0x3150('1f','y#5$')])+'\x0a请重新登录获取\x0ahttps://bean.m.jd.com/',{'open-url':_0x3150('20','6dIC')});if($[_0x3150('21','D*lR')]()){if(_0x5bca0f[_0x3150('22','D*lR')]!==_0x3150('23','9j@B')){$[_0x3150('24','rx0T')](e,resp);}else{await notify[_0x3150('25','$Ll3')]($[_0x3150('26','qsR^')]+_0x3150('27','fKq]')+$[_0x3150('28','zi$d')],_0x3150('29','keMf')+$[_0x3150('2a','^5Kv')]+'\x20'+$[_0x3150('2b','TdPR')]+'\x0a请重新登录获取cookie');}}else{$[_0x3150('2c','sbS&')]('','CookieJD'+(_0x1bb921?_0x1bb921+0x1:''));}continue;}else{$[_0x3150('2d','fKq]')](e,resp);}}await main();}}await writeFile();})()[_0x3150('2e','YGw6')](_0x414850=>{$[_0x3150('2f','YwdC')]('','❌\x20'+$[_0x3150('30','#Hqq')]+_0x3150('31','^5Kv')+_0x414850+'!','');})[_0x3150('32','OVr[')](()=>{$['done']();});async function main(){var _0x280a0b={'kNmUR':function(_0x4290db){return _0x4290db();}};await joinActive();await _0x280a0b['kNmUR'](getUserInfo);}async function writeFile(){var _0x15c634=_0x3150('33','JAeK')['split']('|'),_0x540afb=0x0;while(!![]){switch(_0x15c634[_0x540afb++]){case'0':await fs[_0x3150('34','#Hqq')](_0x3150('35','y#5$'),JSON[_0x3150('36','plAG')]($[_0x3150('37','plAG')]));continue;case'1':if(!fs[_0x3150('38','GNGI')](_0x3150('39','^5Kv')))fs[_0x3150('3a','QG^X')](_0x3150('3b','6dIC'));continue;case'2':console['log']('文件写入成功');continue;case'3':console['log']('\x0a'+JSON['stringify']($[_0x3150('3c','KoDe')])+'\x0a');continue;case'4':if(!$['redPacketId'])return;continue;}break;}}function joinActive(){var _0x138740={'kOxCB':function(_0x1e6843,_0x2073b6){return _0x1e6843+_0x2073b6;},'eiNJA':function(_0x432436,_0x37b7ea){return _0x432436===_0x37b7ea;},'fCVsr':_0x3150('3d','uyp%'),'SSDLJ':function(_0x35baec,_0x1027b2){return _0x35baec!==_0x1027b2;},'WSkPz':'mXEyO','aMstI':function(_0x5d61d7,_0x287b72){return _0x5d61d7!==_0x287b72;},'MtSbS':_0x3150('3e','YGw6'),'JBZdr':function(_0x5e2d6a){return _0x5e2d6a();},'JJYcb':function(_0x412539,_0x2d94da){return _0x412539(_0x2d94da);},'uNsQB':function(_0x45f4c0,_0x28d92a,_0x11b977,_0x25dd4e){return _0x45f4c0(_0x28d92a,_0x11b977,_0x25dd4e);},'YtIeD':'JoinActive','yjMRT':'activeId,channel,phoneid,publishFlag,stepreward_jstoken,timestamp'};return new Promise(_0x35f558=>{var _0x7bd710={'RmWMe':function(_0x2d989d,_0x22efec){return _0x138740['JJYcb'](_0x2d989d,_0x22efec);}};const _0x112b97='';const _0x5f46ee=_0x138740[_0x3150('3f','TdPR')](taskurl,_0x138740[_0x3150('40','fKq]')],_0x112b97,_0x138740['yjMRT']);$['get'](_0x5f46ee,(_0x602355,_0x5b45e8,_0x3c3730)=>{var _0x57bdd9={'XmPme':function(_0x4391a7,_0xbdb16f){return _0x138740['kOxCB'](_0x4391a7,_0xbdb16f);}};if(_0x138740[_0x3150('41','ypVl')](_0x138740[_0x3150('42','B[3&')],_0x138740[_0x3150('43','fKq]')])){try{if(_0x602355){console[_0x3150('44','ypVl')]('\x0a'+$[_0x3150('45','5x9)')]+_0x3150('46','KoDe'));$['logErr'](_0x602355);}else{_0x3c3730=JSON[_0x3150('47','&Gqk')](_0x3c3730);if(_0x138740[_0x3150('48','JAeK')](_0x3c3730[_0x3150('49','rx0T')],0x0)){console[_0x3150('4a','5nke')]('活动开启成功,助力邀请码为:'+_0x3c3730[_0x3150('4b','u7ua')][_0x3150('4c','zi$d')]+'\x0a');}else{console[_0x3150('4d','TAcQ')](_0x3150('4e','KoDe')+_0x3c3730['sErrMsg']+'\x0a');}}}catch(_0x514bbd){if(_0x138740[_0x3150('4f','eG4%')]('mXEyO',_0x138740[_0x3150('50','uyp%')])){$[_0x3150('51','uyp%')]('',_0x3150('52','VQmx')+(i?_0x57bdd9[_0x3150('53','JAeK')](i,0x1):''));}else{$[_0x3150('54','u7ua')](_0x514bbd,_0x5b45e8);}}finally{if(_0x138740[_0x3150('55','ypVl')](_0x138740['MtSbS'],_0x138740['MtSbS'])){_0x7bd710[_0x3150('56','VQmx')](_0x35f558,_0x3c3730);}else{_0x138740[_0x3150('57','fVkb')](_0x35f558);}}}else{$[_0x3150('58','GNGI')]('','❌\x20'+$[_0x3150('59',']32a')]+',\x20失败!\x20原因:\x20'+e+'!','');}});});}function getUserInfo(){var _0x3cab45={'jZwuV':function(_0x3740c8,_0x1a7687){return _0x3740c8===_0x1a7687;},'IRCrj':'fkKYG','yXixs':_0x3150('5a','he6G'),'xLPmz':_0x3150('5b','ypVl'),'foxXD':'ALuHj','OrmqF':_0x3150('5c','u7ua'),'IVKse':function(_0x45eb50,_0x23de1f){return _0x45eb50>=_0x23de1f;},'uJEED':_0x3150('5d','VQmx'),'jenIR':_0x3150('5e','OVr['),'KAHZY':function(_0x4e7a97,_0x106af7){return _0x4e7a97!==_0x106af7;},'fWJnc':_0x3150('5f','#Hqq'),'oeXtn':_0x3150('60',']A%&'),'dlzoJ':function(_0x210b0c,_0x39090d){return _0x210b0c+_0x39090d;},'Xzcaf':function(_0x19dbd8,_0x12cb8d){return _0x19dbd8+_0x12cb8d;},'QZXoi':function(_0x137df6,_0x2374f9){return _0x137df6+_0x2374f9;},'StbXL':function(_0x258347,_0x18b828){return _0x258347+_0x18b828;},'RWXlB':function(_0x11884c,_0x2ea27c){return _0x11884c+_0x2ea27c;},'nNZxU':_0x3150('61','6Clb'),'wfcRH':_0x3150('62',']#DW'),'UvUkB':_0x3150('63','fKq]'),'wjWgm':function(_0x1df200,_0x50a8c6){return _0x1df200!==_0x50a8c6;},'uCCyx':_0x3150('64',']A%&'),'dGbcP':function(_0x4fcfdc,_0x21eb88,_0x5e95c8,_0x70a8de){return _0x4fcfdc(_0x21eb88,_0x5e95c8,_0x70a8de);},'MkYWt':_0x3150('65','6dIC')};return new Promise(_0x358757=>{var _0x1b046d={'ZoSPw':function(_0x350445,_0x1007e6){return _0x350445(_0x1007e6);},'Ggxiv':function(_0x238fef,_0x25d8ba){return _0x3cab45[_0x3150('66','6Clb')](_0x238fef,_0x25d8ba);},'KKJRY':function(_0x4ce1bc,_0x21effa){return _0x3cab45[_0x3150('67','YGw6')](_0x4ce1bc,_0x21effa);},'IWmOJ':function(_0x3e3a8c,_0x3e4293){return _0x3cab45[_0x3150('68','eG4%')](_0x3e3a8c,_0x3e4293);},'qTvYd':function(_0x2019f9,_0x534382){return _0x3cab45['QZXoi'](_0x2019f9,_0x534382);},'xzCIE':function(_0x552a60,_0x2d4743){return _0x552a60+_0x2d4743;},'nsjxK':function(_0x589d8c,_0x2d9812){return _0x3cab45[_0x3150('69',']A%&')](_0x589d8c,_0x2d9812);},'mzzKY':function(_0x219535,_0x30b9b9){return _0x3cab45[_0x3150('6a','#XHL')](_0x219535,_0x30b9b9);},'IpWnl':_0x3cab45['nNZxU'],'tnxnl':_0x3cab45[_0x3150('6b','zi$d')],'ODrXH':_0x3cab45[_0x3150('6c','rx0T')]};if(_0x3cab45[_0x3150('6d','eG4%')]('rdGOR',_0x3cab45['uCCyx'])){const _0x342c7f='joinDate=20210526';const _0x185b09=_0x3cab45['dGbcP'](taskurl,_0x3cab45['MkYWt'],_0x342c7f,'activeId,channel,joinDate,phoneid,publishFlag,timestamp');$[_0x3150('6e','9j@B')](_0x185b09,(_0x4186d5,_0x3b00c1,_0x3a4e02)=>{if(_0x3cab45[_0x3150('6f','Uv]f')](_0x3cab45[_0x3150('70','5nke')],_0x3cab45[_0x3150('71','Unuq')])){console['log'](_0x3150('72','plAG')+_0x3a4e02[_0x3150('73','&Gqk')]['strUserPin']+'\x0a');}else{try{if(_0x4186d5){if(_0x3cab45[_0x3150('74','TAcQ')]!==_0x3cab45['foxXD']){console[_0x3150('75',']32a')]('\x0a'+$[_0x3150('76','fKq]')]+_0x3150('77','GNGI'));$[_0x3150('78','Unuq')](_0x4186d5);}else{console[_0x3150('79','y#5$')]('\x0a'+$['name']+':\x20\x20API查询请求失败\x20‼️‼️');$[_0x3150('7a',']A%&')](_0x4186d5);}}else{if(_0x3cab45[_0x3150('7b','KoDe')]===_0x3cab45[_0x3150('7c','6B@x')]){_0x3a4e02=JSON[_0x3150('7d','OVr[')](_0x3a4e02);if(_0x3cab45[_0x3150('7e','#Hqq')](_0x3a4e02['iRet'],0x0)){console[_0x3150('7f','9j@B')](_0x3150('80','eG4%')+_0x3a4e02['Data'][_0x3150('81','Unuq')]+'\x0a');if(_0x3cab45[_0x3150('82','fVkb')](_0x3a4e02[_0x3150('83','5x9)')][_0x3cab45[_0x3150('84','&Gqk')]],0x6)){if(_0x3cab45[_0x3150('85','[FM0')]===_0x3150('86','QG^X')){console['log'](_0x3150('87','ypVl'));}else{_0x3a4e02=JSON[_0x3150('7d','OVr[')](_0x3a4e02);if(_0x3a4e02['iRet']===0x0){console[_0x3150('79','y#5$')](_0x3150('88','u7ua')+_0x3a4e02['Data'][_0x3150('89','5nke')]+'\x0a');}else{console['log']('活动开启失败：'+_0x3a4e02['sErrMsg']+'\x0a');}}}else{if(_0x3a4e02[_0x3150('8a','rx0T')][_0x3150('8b','6Clb')])$[_0x3150('8c','QG^X')]['push'](_0x3a4e02[_0x3150('8d','6B@x')]['strUserPin']);}}else{if(_0x3cab45[_0x3150('8e','VQmx')]('UOcfD',_0x3150('8f','5nke'))){console[_0x3150('90','^5Kv')](_0x3150('91','fIJg')+_0x3a4e02[_0x3150('92','^5Kv')]+'\x0a');}else{url+=_0x3150('93','6Clb')+_0x1b046d[_0x3150('94','plAG')](encodeURIComponent,stk);}}}else{console[_0x3150('2f','YwdC')](_0x3150('95','keMf')+_0x3a4e02['Data'][_0x3150('96','TdPR')]+'\x0a');if(_0x3a4e02[_0x3150('97','YGw6')][_0x3150('98','rx0T')]>=0x6){console[_0x3150('99','&Gqk')](_0x3150('9a','6B@x'));}else{if(_0x3a4e02['Data'][_0x3150('9b','y#5$')])$[_0x3150('9c','$Ll3')][_0x3150('9d','ypVl')](_0x3a4e02[_0x3150('9e','y#5$')][_0x3150('9f','Uv]f')]);}}}}catch(_0x27a77d){$['logErr'](_0x27a77d,_0x3b00c1);}finally{if(_0x3cab45[_0x3150('6f','Uv]f')](_0x3cab45[_0x3150('a0',']32a')],_0x3cab45[_0x3150('a1','$Ll3')])){let _0x729cb9=BASE_URL+'/'+functionId+'?activeId=489177&publishFlag=1&channel=7&'+_0x342c7f+_0x3150('a2','fKq]')+Date[_0x3150('a3','fIJg')]()+_0x3150('a4','plAG')+_0x1b046d[_0x3150('a5','9j@B')](Date[_0x3150('a6','he6G')](),0x2)+_0x3150('a7','GNGI');const _0x21e00d=_0x1b046d[_0x3150('a8','y#5$')](_0x1b046d[_0x3150('a9','#Hqq')](_0x1b046d['qTvYd'](_0x1b046d[_0x3150('aa','eG4%')](Math[_0x3150('ab','EgUY')]()[_0x3150('ac','ypVl')](0x24)[_0x3150('ad','y#5$')](0x2,0xa),Math[_0x3150('ae','fKq]')]()[_0x3150('af','OVr[')](0x24)[_0x3150('b0','rx0T')](0x2,0xa)),Math[_0x3150('b1',']#DW')]()[_0x3150('b2','YwdC')](0x24)[_0x3150('b3','qsR^')](0x2,0xa)),Math['random']()[_0x3150('b4','Unuq')](0x24)['slice'](0x2,0xa)),Math['random']()[_0x3150('b5','JAeK')](0x24)[_0x3150('b6','33#v')](0x2,0xa));_0x729cb9+=_0x3150('b7','uyp%')+_0x21e00d;_0x729cb9+=_0x3150('b8','hC2k')+(_0x1b046d[_0x3150('b9',']32a')](_0x1b046d['mzzKY'](Math[_0x3150('ba','QG^X')]()[_0x3150('bb',']A%&')](0x24)['slice'](0x2,0xa),Math[_0x3150('bc','&Gqk')]()[_0x3150('b4','Unuq')](0x24)[_0x3150('ad','y#5$')](0x2,0xa)),Math['random']()['toString'](0x24)[_0x3150('bd','KoDe')](0x2,0xa))+Math[_0x3150('ab','EgUY')]()['toString'](0x24)[_0x3150('be','sbS&')](0x2,0xa));if(stk){_0x729cb9+='&_stk='+_0x1b046d[_0x3150('bf','zi$d')](encodeURIComponent,stk);}return{'url':_0x729cb9,'headers':{'Host':_0x1b046d['IpWnl'],'Cookie':cookie,'accept':_0x3150('c0','yU#&'),'user-agent':'jdpingou;iPhone;4.8.2;14.5.1;'+_0x21e00d+_0x3150('c1','OVr['),'accept-language':_0x1b046d[_0x3150('c2','YwdC')],'referer':_0x1b046d[_0x3150('c3','fVkb')]}};}else{_0x358757(_0x3a4e02);}}}});}else{$[_0x3150('c4','D*lR')]();}});}function taskurl(_0x4ba8c5,_0x5b1fd4='',_0x5dac26){var _0x1a0683={'HYdiW':function(_0x4f9958,_0x5cd134){return _0x4f9958+_0x5cd134;},'OVZoD':function(_0x54b92c,_0x26ae86){return _0x54b92c+_0x26ae86;},'irBsZ':function(_0x37522c,_0x399aa2){return _0x37522c+_0x399aa2;},'cpMfT':function(_0x256ff8,_0x23abda){return _0x256ff8+_0x23abda;},'bbgrv':function(_0xb6fca6,_0x355264){return _0xb6fca6+_0x355264;},'QZZSN':function(_0x282106,_0x5452d8){return _0x282106(_0x5452d8);},'Sagty':_0x3150('c5','&Gqk'),'BIdpO':_0x3150('c6','6Clb')};let _0x56de9d=BASE_URL+'/'+_0x4ba8c5+'?activeId=489177&publishFlag=1&channel=7&'+_0x5b1fd4+_0x3150('c7','zi$d')+Date[_0x3150('c8','6Clb')]()+_0x3150('c9','ypVl')+_0x1a0683[_0x3150('ca','hC2k')](Date[_0x3150('a3','fIJg')](),0x2)+'&_ste=1';const _0x3b3632=_0x1a0683[_0x3150('cb','qsR^')](_0x1a0683['irBsZ'](_0x1a0683[_0x3150('cc','[FM0')](_0x1a0683['bbgrv'](Math[_0x3150('cd','$Ll3')]()['toString'](0x24)['slice'](0x2,0xa),Math[_0x3150('ce','#Hqq')]()['toString'](0x24)['slice'](0x2,0xa)),Math[_0x3150('cf','5nke')]()['toString'](0x24)['slice'](0x2,0xa)),Math[_0x3150('d0','YGw6')]()['toString'](0x24)[_0x3150('d1','JAeK')](0x2,0xa)),Math['random']()['toString'](0x24)[_0x3150('d2','&Gqk')](0x2,0xa));_0x56de9d+=_0x3150('d3','5nke')+_0x3b3632;_0x56de9d+='&stepreward_jstoken='+(Math['random']()[_0x3150('d4','fKq]')](0x24)[_0x3150('d5',']32a')](0x2,0xa)+Math[_0x3150('ae','fKq]')]()[_0x3150('d6','QG^X')](0x24)[_0x3150('d7',']A%&')](0x2,0xa)+Math['random']()['toString'](0x24)[_0x3150('be','sbS&')](0x2,0xa)+Math[_0x3150('d8',']A%&')]()[_0x3150('d9','B[3&')](0x24)[_0x3150('da','OVr[')](0x2,0xa));if(_0x5dac26){_0x56de9d+=_0x3150('db','$Ll3')+_0x1a0683[_0x3150('dc','B[3&')](encodeURIComponent,_0x5dac26);}return{'url':_0x56de9d,'headers':{'Host':_0x1a0683[_0x3150('dd','ypVl')],'Cookie':cookie,'accept':_0x3150('de',']#DW'),'user-agent':_0x3150('df','&Gqk')+_0x3b3632+_0x3150('e0','5x9)'),'accept-language':'zh-cn','referer':_0x1a0683[_0x3150('e1','6dIC')]}};};_0xod7='jsjiami.com.v6';



function TotalBean() {
  return new Promise(async resolve => {
    const options = {
      url: "https://me-api.jd.com/user_new/info/GetJDUserInfoUnion",
      headers: {
        Host: "me-api.jd.com",
        Accept: "*/*",
        Connection: "keep-alive",
        Cookie: cookie,
        "User-Agent":  "jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0 (iPhone; CPU iPhone OS 14_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148;supportJDSHWK/1",
        "Accept-Language": "zh-cn",
        "Referer": "https://home.m.jd.com/myJd/newhome.action?sceneval=2&ufc=&",
        "Accept-Encoding": "gzip, deflate, br"
      }
    }
    $.get(options, (err, resp, data) => {
      try {
        if (err) {
          $.logErr(err)
        } else {
          if (data) {
            data = JSON.parse(data);
            if (data['retcode'] === "1001") {
              $.isLogin = false; //cookie过期
              return;
            }
            if (data['retcode'] === "0" && data.data && data.data.hasOwnProperty("userInfo")) {
              $.nickName = data.data.userInfo.baseInfo.nickname;
            }
          } else {
            $.log('京东服务器返回空数据');
          }
        }
      } catch (e) {
        $.logErr(e)
      } finally {
        resolve();
      }
    })
  })
}

// prettier-ignore
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`\ud83d\udd14${this.name}, \u5f00\u59cb!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),a={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(a,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t){let e={"M+":(new Date).getMonth()+1,"d+":(new Date).getDate(),"H+":(new Date).getHours(),"m+":(new Date).getMinutes(),"s+":(new Date).getSeconds(),"q+":Math.floor(((new Date).getMonth()+3)/3),S:(new Date).getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,((new Date).getFullYear()+"").substr(4-RegExp.$1.length)));for(let s in e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r)));let h=["","==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="];h.push(e),s&&h.push(s),i&&h.push(i),console.log(h.join("\n")),this.logs=this.logs.concat(h)}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t.stack):this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}